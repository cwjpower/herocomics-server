# Put this *inside* your existing server { ... } block.

# ===== Admin URL mapping: /admin -> /web/admin =====
location ^~ /admin/ {
    alias /var/www/html/web/admin/;
    index index.php;
    try_files $uri $uri/ /admin/index.php?$args;
}

# PHP files under /admin (must come before the generic PHP handler)
location ~ ^/admin/(.+\.php)$ {
    fastcgi_split_path_info ^/admin/(.+\.php)$;
    include fastcgi_params;
    fastcgi_param SCRIPT_FILENAME /var/www/html/web/admin/$1;
    fastcgi_param PATH_INFO       $fastcgi_path_info;
    fastcgi_pass php:9000;
}
