server {
    listen 80;
    server_name localhost;

    root /var/www/html;
    index index.php index.html index.htm;

    location / { try_files $uri $uri/ /index.php?$args; }

    # (선택) /admin/* → /web/admin/* 리다이렉트
    # location ^~ /admin/ { return 302 /web/admin/; }

    location ~ \.php$ {
        try_files $uri =404;
include fastcgi_params;
fastcgi_pass php:9000;
fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
fastcgi_index index.php;
fastcgi_buffering off;
}

location ~ ^/(admin_utf8_fix|admin_utf8_fix2|admin_hotfix_20250926|admin_shell_20250926)/ {
deny all;
}

client_max_body_size 20m;
}
